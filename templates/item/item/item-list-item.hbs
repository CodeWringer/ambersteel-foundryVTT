{{!-- Requires context:
isEditable: {Boolean}
isSendable: {Boolean}
itemId: {String|undefined}
item: {Item} = {
  id: {String}
  name: {String}
  img: {String}
  data: {ItemData} = {
    data: {Object} = {
      description: {String}
      gmNotes: {String}
      isCustom: {Boolean}
      quantity: {Number}
      maxQuantity: {Number}
      bulk: {Number} - Derived!
      shape: {Object} = {
        width: {Number}
        height: {Number}
      }
      isOnPerson: {Boolean}
    }
  }
}
--}}
{{!-- Row 1 --}}
<div class="flex flex-row">
  <div class="flex flex-grow">
    {{!-- Send to chat --}}
    {{> buttonSendToChat itemId=itemId }}
    {{!-- Pick up --}}
    {{#if (eq (lookupValue item "data.data.isOnPerson" itemId) false)}}
      {{> buttonTakeItem itemId=itemId}}
    {{/if}}
    {{!-- Name --}}
    <span class="width-min-xl">
      {{> inputLabel text="ambersteel.labels.item"}}
    </span>
    <span class="flex-grow margin-r-md">
      {{> inputTextField vm=(createInputTextFieldViewModel isEditable isSendable item "name" "ambersteel.labels.name") }}
    </span>
  </div>
  {{!-- Delete --}}
  {{> buttonDelete itemId=itemId }}
</div>
{{!-- Row 2 --}}
<div class="flex flex-row">
  {{!-- Quantity --}}
  <div class="flex flex-row">
    <span class="width-min-xl">
      {{> inputLabel text="ambersteel.labels.quantity" }}
    </span>
    <span class="width-md">
      {{> inputNumberSpinner vm=(createInputNumberSpinnerViewModel isEditable isSendable item "data.data.quantity" 1 1 undefined) }}
    </span>
  </div>
  {{!-- Spacer --}}
  <div class="width-xs"></div>
  {{!-- Max quantity --}}
  <div class="flex flex-row flex-grow">
    <span class="width-min-xl">
      {{> inputLabel text="ambersteel.labels.maxQuantity" }}
    </span>
    <span class="width-md">
      {{> inputNumberSpinner vm=(createInputNumberSpinnerViewModel isEditable isSendable item "data.data.maxQuantity" 1 1 undefined) }}
    </span>
  </div>
</div>
{{!-- Row 3 --}}
<div class="flex flex-row">
  {{!-- Shape.width --}}
  <div class="flex flex-row">
    <span class="width-min-xl">
      {{> inputLabel text="ambersteel.labels.shapeWidth" }}
    </span>
    <span class="width-md">
      {{> inputNumberSpinner vm=(createInputNumberSpinnerViewModel isEditable isSendable item "data.data.shape.width" 1 1 undefined) }}
    </span>
  </div>
  {{!-- Spacer --}}
  <div class="width-xs"></div>
  {{!-- Shape.width --}}
  <div class="flex flex-row">
    <span class="width-min-xl">
      {{> inputLabel text="ambersteel.labels.shapeHeight" }}
    </span>
    <span class="width-md">
      {{> inputNumberSpinner vm=(createInputNumberSpinnerViewModel isEditable isSendable item "data.data.shape.height" 1 1 undefined) }}
    </span>
  </div>
  {{!-- Spacer --}}
  <div class="width-xs"></div>
  {{!-- Bulk - read only! --}}
  <div class="flex flex-row">
    <span class="width-min-xl">
      {{> inputLabel text="ambersteel.labels.bulk" }}
    </span>
    <span class="width-md">
      {{> inputNumberSpinner vm=(createInputNumberSpinnerViewModel false isSendable item "data.data.bulk" 1 undefined undefined) }}
    </span>
  </div>
</div>
{{!-- Row 4 --}}
{{!-- Description --}}
<div class="flex flex-row">
  {{> inputTextarea vm=(createInputTextareaViewModel isEditable isSendable item "data.data.description" (localize "ambersteel.labels.description") true false) cssClass="fill" }}
</div>