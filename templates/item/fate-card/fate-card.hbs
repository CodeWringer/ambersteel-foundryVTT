{{!-- Requires context:
isEditable: {Boolean}
isSendable: {Boolean}
item: {Item} = {
  id: {String}
  name: {String}
  img: {String}
  data: {ItemData} = {
    data: {Object} = {
      description: {String}
      cost: {Object} = {
        miFP: {Number}
        maFP: {Number}
        AFP: {Number}
      }
    }
  }
}
--}}
<section class="flex flex-column fate-card" data-item-id="{{item._id}}">
  {{!-- Header --}}
  <div class="flex flex-column pad-md">
    <div class="flex flex-row">
      <img class="header-image" src="{{item.img}}" data-edit="img" title="{{item.name}}" height="26" width="26" />
      <h3 class="header-name flex-grow" style="margin: 0;">
        {{> inputTextField isEditable=isEditable propertyOwner=item propertyPath="name" placeholder="ambersteel.labels.name" }}
      </h3>
    </div>
  </div>
  {{!-- Buttons below header --}}
  {{#if (or isSendable isEditable)}}
    <div class="flex flex-row pad-md">
      {{#if isSendable}}
        <div class="flex flex-center">
          {{> buttonSendToChat itemId=item._id }}
        </div>
      {{/if}}
      <div class="flex-grow"></div>
      {{#if isEditable}}
        {{> buttonDelete itemId=item._id promptConfirm=true promptLocalizableTitle="ambersteel.dialog.titleConfirmDeletionFateCardQuery" }}
      {{/if}}
    </div>
  {{/if}}
  {{!-- Description --}}
  <div class="flex flex-grow">
    {{> inputTextarea isEditable=isEditable propertyOwner=item propertyPath="data.data.description" placeholder=(localize "ambersteel.labels.description") }}
  </div>
</section>