{{!-- Required context:
viewModel: {SkillAbilityTableViewModel}
--}}
<section class="skill-ability-list">
  <ol class="unstyled-list {{#if viewModel.skillAbilitiesInitiallyVisible}}{{else}}hidden{{/if}}" 
    data-vis-group="{{viewModel.visGroupId}}"
  >
    {{#each viewModel.abilities as |abilityViewModel key|}}
      <li class="ambersteel-list-row sheet-block">
        {{#if ../viewModel.oneColumn}}
          {{> "systems/ambersteel/templates/item/skill-ability/skill-ability-chat-message.hbs" viewModel=abilityViewModel }}
        {{else}}
          {{> "systems/ambersteel/templates/item/skill-ability/skill-ability-list-item.hbs" viewModel=abilityViewModel }}
        {{/if}}
      </li>
    {{/each}}
    {{#if viewModel.isEditable}}
      <li class="ambersteel-list-row ambersteel-list-footer">
        <div class="fill flex flex-row">
          <span class="flex-grow"></span>
          {{!-- Add skill ability --}}
          <span class="width-sm">
            {{> buttonAdd target=viewModel.item creationType="skill-ability" withDialog=false }}
          </span>
        </div>
      </li>
    {{/if}}
  </ol>
  <div class="line-height">
    {{#> buttonToggleVisibility 
      visGroup=viewModel.visGroupId
      cssClass=(ifThenElse viewModel.skillAbilitiesInitiallyVisible "hidden" "")
      fill=true 
      toggleSelf=true 
      callback=(setCallback viewModel "skillAbilitiesInitiallyVisible" (not viewModel.skillAbilitiesInitiallyVisible)) 
    }}
      <i class="fas fa-angle-double-down"></i>
    {{/buttonToggleVisibility}}
    {{#> buttonToggleVisibility 
      visGroup=viewModel.visGroupId
      cssClass=(ifThenElse viewModel.skillAbilitiesInitiallyVisible "" "hidden")
      fill=true 
      toggleSelf=true 
      callback=(setCallback viewModel "skillAbilitiesInitiallyVisible" (not viewModel.skillAbilitiesInitiallyVisible)) 
    }}
      <i class="fas fa-angle-double-up"></i>
    {{/buttonToggleVisibility}}
  </div>
</section>