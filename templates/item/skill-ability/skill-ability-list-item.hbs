{{!-- Required context:
viewModel: {SkillAbilityListItemViewModel}
--}}
{{!-- Row 1 --}}
<div class="flex flex-row">
  <div class="flex flex-grow">
    {{!-- Send to chat --}}
    {{#if viewModel.isSendable}}
      {{> buttonSendToChat target=viewModel.item propertyPath=(concat "data.data.abilities[" viewModel.index "]") }}
    {{/if}}
    {{!-- Name --}}
    <span class="width-min-xl">
      {{> inputLabel text="ambersteel.labels.name"}}
    </span>
    {{> inputTextField isEditable=viewModel.isEditable propertyOwner=viewModel.item propertyPath=(concat "data.data.abilities[" viewModel.index "].name") placeholder="ambersteel.labels.name" contextTemplate="skill-ability-list-item" }}
  </div>
  {{!-- Delete --}}
  {{#if viewModel.isEditable}}
    {{> buttonDelete target=viewModel.item propertyPath=(concat "data.data.abilities[" viewModel.index "]") withDialog=true }}
  {{/if}}
</div>
{{!-- Row 2 --}}
<div class="flex flex-row">
  {{!-- At level --}}
  <div class="flex flex-row">
    <span class="width-min-xl">
      {{> inputLabel text="ambersteel.labels.skillAbilityRequirement"}}
    </span>
    <span class="width-md">
      {{> inputNumberSpinner isEditable=viewModel.isEditable propertyOwner=viewModel.item propertyPath=(concat "data.data.abilities[" viewmodel.index "].requiredLevel") min=0 contextTemplate="skill-ability-list-item" }}
    </span>
  </div>
  {{!-- Obstacle --}}
  <div class="flex flex-row">
    <span class="width-min-xl">
      {{> inputLabel text="ambersteel.roll.obstacleAbbreviation"}}
    </span>
    <span class="width-xxl">
      {{> inputTextField isEditable=viewModel.isEditable propertyOwner=viewModel.Item propertyPath=(concat "data.data.abilities[" viewmodel.index "].obstacle") contextTemplate="skill-ability-list-item" }}
    </span>
  </div>
</div>
{{!-- Row 3 --}}
<div class="flex flex-row">
  {{!-- Distance --}}
  <div class="width-min-xl">
    {{> inputLabel text="ambersteel.labels.distance"}}
  </div>
  <span class="width-md">
    {{> inputNumberSpinner isEditable=viewModel.isEditable propertyOwner=viewModel.item propertyPath=(concat "data.data.abilities[" viewmodel.index "].distance") min=0 contextTemplate="skill-ability-list-item" }}
  </span>
  {{!-- AP cost --}}
  <div class="width-min-xl">
    {{> inputLabel text="ambersteel.labels.apCost"}}
  </div>
  <span class="width-md">
    {{> inputNumberSpinner isEditable=viewModel.isEditable propertyOwner=viewModel.item propertyPath=(concat "data.data.abilities[" viewmodel.index "].apCost") min=0 contextTemplate="skill-ability-list-item" }}
  </span>
  {{!-- Attack type --}}
  <div class="width-min-xl">
    {{> inputLabel text="ambersteel.labels.attackType"}}
  </div>
  <span class="width-min-lg">
    {{> inputDropDown isEditable=viewModel.isEditable propertyOwner=viewModel.item propertyPath=(concat "data.data.abilities[" viewmodel.index "].attackType") options=viewModel.attackTypeOptions contextTemplate="skill-ability-list-item" }}
  </span>
</div>
{{!-- Row 4 --}}
<div class="flex flex-row">
  {{!-- Damage formula --}}
  <div class="width-min-xl">
    {{> inputLabel text="ambersteel.labels.damage"}}
  </div>
  {{> buttonRoll 
      target=viewModel.item 
      propertyPath=(concat "data.data.abilities[" viewmodel.index "].damageFormula") 
      chatTitle=viewModel.skillAbility.name
      rollType="generic" 
      actor=viewModel.actor 
  }}
  <span class="width-min-xxl flex-grow">
    {{> inputTextField isEditable=viewModel.isEditable propertyOwner=viewModel.Item propertyPath=(concat "data.data.abilities[" viewmodel.index "].damageFormula") contextTemplate="skill-ability-list-item" }}
  </span>
  {{!-- Damage type --}}
  <div class="width-min-xxl">
    {{> inputLabel text="ambersteel.labels.damageType"}}
  </div>
  <span class="width-xxl">
    {{> inputDropDown isEditable=viewModel.isEditable propertyOwner=viewModel.item propertyPath=(concat "data.data.abilities[" viewmodel.index "].damageType") options=viewModel.damageTypeOptions contextTemplate="skill-ability-list-item" }}
  </span>
</div>
{{!-- Row 5 --}}
<div class="flex flex-row flex-grow">
  {{!-- Condition --}}
  <div class="width-min-xl">
    {{> inputLabel text="ambersteel.labels.skillAbilityCondition"}}
  </div>
  <div class="flex-grow">
    {{> inputTextField isEditable=viewModel.isEditable propertyOwner=viewModel.Item propertyPath=(concat "data.data.abilities[" viewmodel.index "].condition") contextTemplate="skill-ability-list-item" }}
  </div>
</div>
{{!-- Row 6 --}}
{{!-- Description --}}
<div class="flex flex-row">
  {{> inputTextarea isEditable=viewModel.isEditable propertyOwner=viewModel.item propertyPath=(concat "data.data.abilities[" viewmodel.index "].description") placeholder="ambersteel.labels.description" allowResize=true cssClass="fill" contextTemplate="skill-ability-list-item" }}
</div>